<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Heart Disease</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='./css/design.css')}}"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
    <style>
      body {
        background-color: rgb(224, 137, 137);
      }
    </style>
  </head>
  <body>
    <img class="col-12 p-0" src="./static/image/heart.png" />
    <nav></nav>
    <div class="container">
      <form action="http://localhost:5000/Heart" method="POST" id="result">
        <div class="row">
          <div class="col-md-6 offset-md-3">
            <div class="row pt-5">
              <label for="age">Age:</label>
              <input
                type="number"
                class="form-control"
                id="age"
                placeholder="Year"
                min="0"
                name="age"
                required
              />
            </div>

            <div class="row mt-4">
              <label for="sex">Sex:</label>
              <select class="custom-select" id="sex" name="sex" required>
                <option value="">--select sex--</option>
                <option value="0.0">Male</option>
                <option value="1.0">Female</option>
              </select>
            </div>

            <div class="row mt-4">
              <label for="chest-pain-type">Chest pain type:</label>
              <select class="custom-select" id="chest" name="chest" required>
                <option value="">--select Chest pain type--</option>
                <option value="1.0">Cardiovascular chest pain</option>
                <option value="2.0">Respiratory tract disorder </option>
                <option value="3.0">Digestive disease</option>
                <option value="4.0">bones, muscles and nerves disease</option>
              </select>
            </div>

            <div class="row mt-4">
              <label for="resting-blood-pressure"
                >Resting blood pressure:</label
              >
              <input
                type="number"
                class="form-control"
                id="pressure"
                step="0.1"
                min="0"
                placeholder="mm Hg"
                name="pressure"
                required
              />
            </div>

            <div class="row mt-4">
              <label for="serum-cholestoral-in-mg/dl">Serum cholestoral:</label>
              <input
                type="number"
                class="form-control"
                id="cholestoral"
                placeholder="mg/dl"
                step="0.1"
                min="0"
                name="cholestoral"
                required
              />
            </div>

            <div class="row mt-4">
              <label for="fasting-blood-sugar>120mg/dl"
                >Fasting blood sugar>120mg/dl:</label
              >
              <select class="custom-select" id="sugar" name="sugar" required>
                <option value="">--select blood sugar--</option>
                <option value="0.0">No</option>
                <option value="1.0">Yes</option>
              </select>
            </div>

            <div class="row mt-4">
              <label for="resting-electrocardiographic-result"
                >Resting electrocardiographic result:</label
              >
              <select
                class="custom-select"
                id="electro"
                name="electro"
                required
              >
                <option value="">--select electrocardiographic--</option>
                <option value="0.0">Low</option>
                <option value="1.0">Medium</option>
                <option value="2.0">High</option>
              </select>
            </div>

            <div class="row mt-4">
              <label for="maximum-heart-rate-achieved "
                >Maximum heart rate achieved:</label
              >
              <input
                type="number"
                class="form-control"
                id="maximum"
                step="0.1"
                min="0"
                placeholder="%"
                name="maximum"
                required
              />
            </div>

            <div class="row mt-4">
              <label for="exercise-induced-angina"
                >Exercise induced angina:</label
              >
              <select
                class="custom-select"
                id="exercise"
                name="exercise"
                required
              >
                <option value="">--select Exercise induced angina--</option>
                <option value="0.0">No</option>
                <option value="1.0">Yes</option>
              </select>
            </div>

            <div class="row mt-4">
              <label for="oldpeak "
                >Oldpeak = ST depression induced by exercise relative to
                rest:</label
              >
              <input
                type="number"
                class="form-control"
                id="oldpeak"
                step="0.1"
                min="0"
                placeholder="0.0-6.0"
                max="6.0"
                name="oldpeak"
                required
              />
            </div>

            <div class="row mt-4">
              <label for="the-slope-of-the-peak-exercise-ST-segment"
                >The slope of the peak exercise ST segment:</label
              >
              <select class="custom-select" id="slope" name="slope" required>
                <option value="">--select Exercise induced angina--</option>
                <option value="1.0">1</option>
                <option value="2.0">2</option>
                <option value="3.0">3</option>
              </select>
            </div>

            <div class="row mt-4">
              <label for="number-of-major-vessels-(0-3)-colored-by-fluoroscopy"
                >Number of major vessels bloods (0-3) colored
                byfluoroscopy:</label
              >
              <select class="custom-select" id="number" name="number" required>
                <option value="">--select vessels bloods--</option>
                <option value="0.0">0</option>
                <option value="1.0">1</option>
                <option value="2.0">2</option>
                <option value="3.0">3</option>
              </select>
            </div>

            <div class="row mt-4">
              <label for="thal">thalassemia:</label>
              <select class="custom-select" id="thal" name="thal" required>
                <option value="">--select Thalassemia--</option>
                <option value="3.0">normal</option>
                <option value="6.0">fixed defect</option>
                <option value="7.0">reversible defect</option>
              </select>
            </div>
            <br />
            <hr />
            <input
              type="submit"
              class="btn btn-primary btn-lg btn-block"
              id="btn"
              value="submit"
            />
          </div>
        </div>
      </form>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
      <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Test Result</h4>
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
          </div>
          <div class="modal-body" id="values"></div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-info"
              id="close"
              data-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>

  <script>
    $(document).ready(function() {
      console.log("{{predictions}}");
      if ("{{predictions}}" == "") {
        $("#myModal").modal("hide");
      } else {
        if ("{{predictions}}" == "0.0") {
          $("#values").html("Negative. Heart disease is probably NOT present.");
          $("#myModal").modal("show");
        }
        else if ("{{predictions}}" == "1.0") {
          $("#values").html("Positive. Heart disease is probably present.");
          $("#myModal").modal("show");
        }
      }
      $("#close").click(function() {
        $("#values").html("");
        $("#myModal").modal("hide");
        window.location.href = 'http://localhost:5000'
      });
    });
  </script>
</html>
